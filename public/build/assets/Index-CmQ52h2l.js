import{G as v,r as D,j as t,x as m}from"./app-C1358zME.js";import{A as N}from"./AuthenticatedLayout-Be26LhMc.js";import"./ApplicationLogo-Df_I3c6B.js";import"./Footer-C1hr3rJN.js";import"./transition-Bxmn1Jq6.js";function k({auth:x,message:S,currentDate:u}){const c=new Date().toISOString().split("T")[0],o=u||c,n=new Date;n.setDate(n.getDate()-1);const d=n.toISOString().split("T")[0],{data:a,setData:r,post:g,processing:h,reset:_}=v({desire_level:null,condition:null});D.useEffect(()=>{(async()=>{try{const e=await window.axios.get(`/api/conditions/${o}`);e.data&&r({desire_level:e.data.desire_level,condition:e.data.condition})}catch(e){console.error("Error fetching today's data:",e)}})()},[o]);const b=s=>{s.preventDefault();const e={desire_level:a.desire_level,condition:a.condition,recorded_date:o};console.log("About to submit:",e);const l={preserveScroll:!0,onBefore:()=>console.log("Before submit"),onSuccess:()=>console.log("Success"),onError:i=>console.error("Errors:",i),onFinish:()=>console.log("Finish")};g(route("conditions.store"),e,l)},p=s=>{const e=new Date(s||new Date),l=e.getFullYear(),i=e.getMonth()+1,f=e.getDate();return`${l}Âπ¥${i}Êúà${f}Êó•`},w=s=>{const e=new Date(s||new Date);return e.setDate(e.getDate()-1),e.toISOString().split("T")[0]},j=s=>{const e=new Date(s||new Date);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]},y=[{level:1,label:"„Åó„Åü„Åè„Å™„ÅÑ"},{level:2,label:"„ÇÑ„ÇÑ„Åó„Åü„Åè„Å™„ÅÑ"},{level:3,label:"„ÇÑ„ÇÑ„Åó„Åü„ÅÑ"},{level:4,label:"„Åó„Åü„ÅÑ"}];return t.jsx(N,{user:x.user,children:t.jsx("div",{className:"max-w-2xl mx-auto pt-8 px-4 pb-16",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[o>d&&t.jsx(m,{href:`/conditions/date/${w(o)}`,className:"text-gray-400 w-8 text-center",children:"Ôºú"}),o<=d&&t.jsx("div",{className:"w-8"}),t.jsx("span",{className:"text-gray-600 flex-grow text-center",children:p(o)}),o<c?t.jsx(m,{href:`/conditions/date/${j(o)}`,className:"text-gray-400 w-8 text-center",children:"Ôºû"}):t.jsx("div",{className:"w-8"})]}),t.jsxs("form",{onSubmit:b,className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[t.jsx("h3",{className:"flex items-center text-gray-700 mb-4 font-medium",children:"‰ªäÊó•„ÅÆ„Çª„ÉÉ„ÇØ„Çπ„Åó„Åü„ÅÑÂ∫¶„ÅØÔºü"}),t.jsx("div",{className:"space-y-2",children:y.map(({level:s,label:e})=>t.jsx("button",{type:"button",onClick:()=>r("desire_level",s),className:`w-full p-4 rounded-lg border ${a.desire_level===s?"bg-blue-500 text-white border-blue-500":"bg-white border-gray-300"}`,children:e},s))})]}),t.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[t.jsx("h3",{className:"flex items-center text-gray-700 mb-4 font-medium",children:"‰ªäÊó•„ÅÆ‰ΩìË™ø„ÅØÔºü"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"ËâØ„ÅÑ",emoji:"üòÑ"},{label:"„ÇÑ„ÇÑËâØ„ÅÑ",emoji:"üòä"},{label:"„ÇÑ„ÇÑÊÇ™„ÅÑ",emoji:"üòï"},{label:"ÊÇ™„ÅÑ",emoji:"üò´"}].map(({label:s,emoji:e})=>t.jsxs("button",{type:"button",onClick:()=>r("condition",s),className:`p-4 rounded-lg border ${a.condition===s?"bg-blue-500 text-white border-blue-500":"bg-white border-gray-300"}`,children:[t.jsx("span",{className:"text-lg mb-1",children:e}),t.jsx("span",{children:s})]},s))})]}),t.jsx("div",{className:"space-y-2",children:t.jsx("button",{type:"submit",disabled:h||!a.desire_level||!a.condition,className:"w-full bg-black text-white p-4 rounded-lg disabled:opacity-50",children:"Ë®òÈå≤„Åô„Çã"})})]})]})})})}export{k as default};
